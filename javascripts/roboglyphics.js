(function(){var e,t,n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(e,t){this.x=e!=null?e:0,this.y=t!=null?t:0}return e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y},e}(),e=function(){function e(e){this.canvas=e,this.initDefaults(),typeof this.onSetup=="function"&&this.onSetup(),this.resetPoint()}return e.prototype.randAngle=function(){return Math.random()*Math.PI*2},e.prototype.rand=function(){return(Math.random()-.5)*2},e.prototype.initDefaults=function(){return this.scale=1,this.age=0,this.angle=0,this.dAngle=0,this.ddAngle=0,this.dampDAngle=1,this.dampDDAngle=1,this.changeDirectionChance=0,this.maxLength=Number.POSITIVE_INFINITY,this.weight=2,this.margin=Math.min(100,.1*this.canvas.width),this.lineHeight=30,this.letterSpacing=10,this.baseX=Number.POSITIVE_INFINITY,this.baseY=this.margin-this.lineHeight},e.prototype.angleFilter=function(){return this.angle},e.prototype.resetPoint=function(){return this.age=0,this.pos=new n(this.baseX,this.baseY),this.newLineIfNeeded(),this.changeDirection()},e.prototype.newLineIfNeeded=function(){this.baseX+=this.letterSpacing*this.scale,this.baseX>this.canvas.width-this.margin&&(this.baseX=this.margin,this.baseY+=this.lineHeight*this.scale);if(this.baseY>this.canvas.height-this.margin)return this.done=!0},e.prototype.changeDirection=function(){return this.angle=randAngle(),this.dAngle=.005*this.rand(),this.ddAngle=5e-4*this.rand(),this.changeDirectionChance=.001,this.dampDAngle=1,this.dampDDAngle=1,this.maxLength=200+Math.random()*100},e.prototype.step=function(){typeof this.onStep=="function"&&this.onStep(),this.age>this.maxLength&&this.resetPoint(),(this.pos.x<0||this.pos.y<0||this.pos.x>this.canvas.width||this.pos.y>this.canvas.height)&&this.resetPoint(),this.age++,this.pos.x+=this.scale*.1*Math.cos(this.angleFilter()),this.pos.y+=this.scale*.1*Math.sin(this.angleFilter()),this.dAngle+=this.ddAngle,this.angle+=this.dAngle,this.dAngle*=this.dampDAngle,this.ddAngle*=this.dampDDAngle;if(Math.random()<this.changeDirectionChance)return this.changeDirection()},e}(),t=function(){function e(e,t){this.canvasEl=e,this.settings=t,this.onRender=r(this.onRender,this),this.speed=100,this.pen=null,this.a=e.getContext("2d"),this.canvasEl.width=this.canvasEl.offsetWidth,this.canvasEl.height=this.canvasEl.offsetHeight,window.requestAnimationFrame(this.onRender)}return e.prototype.onRender=function(){var e,t,n,r;this.a.fillStyle="black";if(this.settings.currentMode){for(e=t=0,n=this.settings.speed;0<=n?t<=n:t>=n;e=0<=n?++t:--t){this.pen==null&&(this.a.clearRect(0,0,this.canvasEl.width,this.canvasEl.height),(r=this.pen)==null&&(this.pen=new this.settings.currentMode(this.canvasEl))),this.pen.step();if(this.pen.done)return;this.a.save(),this.a.translate(this.pen.pos.x,this.pen.pos.y),this.a.beginPath(),this.a.arc(0,0,3,this.pen.weight*this.pen.scale,0,Math.PI*2,!0),this.a.fill(),this.a.restore()}return window.requestAnimationFrame(this.onRender)}},e}(),window.rg={Roboglypics:t,Pen:e,Vec:n}}).call(this);